{{- "<!-- snippet list gallery -->" | safeHTML -}}
{{- $page := .page }}
{{- $content := partial "process/get_content" (dict "page" .page "section" .section "contentBlock" .contentBlock) -}}

{{- with $content -}}
  {{- $items := partial "process/sortedItems" (dict "type" .list ) -}}
  {{- $size := .size | default 450 -}}
  {{- $max_amount := .max_amount | default (len $items) -}}

  <style>
  .square-grid {
    grid-template-columns: repeat(auto-fill, minmax({{ $size }}px, 1fr));
    grid-auto-rows: {{ $size }}px;
  }
  </style>

  <section class ="text-center my-10">
    <h1 class = "text-5xl my-10">{{ .title }}</h1>
    <p class = "text-2xl my-10">{{ .subtitle }}</p>
    <div class = "grid gap-3 square-grid overflow-clip mx-auto">
        {{- range first $max_amount $items -}}

        {{- $bg_css := printf "%s-%s" $page.File.ContentBaseName .File.ContentBaseName -}}
        {{- partial "UI-elements/bg_image" (dict "page" . "css_class" $bg_css "bg_image" .Params.fg_image "path" "images/") -}}
          <a class="bg-pogocolor4 text-white {{$bg_css}} bg-cover bg-center py-10 px-2" href={{.RelPermalink }}>
              <h1 class="text-center text-3xl">{{.Title}}</h1>
          </a>
        {{- end -}}
    </div>
    {{- partial "UI-elements/buttons" .buttons -}}
  </section>
{{- end -}}
